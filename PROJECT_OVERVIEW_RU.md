# Memory Leak - –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Memory Leak** - —ç—Ç–æ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –∏–≥—Ä–∞ –≤ –∂–∞–Ω—Ä–µ RTS (Real-Time Strategy) —Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ò–≥—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Ä—Ç–æ—á–Ω—É—é –º–µ—Ö–∞–Ω–∏–∫—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —é–Ω–∏—Ç–æ–≤, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è (–û–û–ü, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å, —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ —Ç.–¥.).

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
–ò–≥—Ä–æ–∫–∏ —Å–æ—Ä–µ–≤–Ω—É—é—Ç—Å—è, –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—è —Ä–µ—Å—É—Ä—Å–Ω—ã–µ —É–∑–ª—ã (Memory –∏ CPU), —Å—Ç—Ä–æ—è –∞—Ä–º–∏—é —é–Ω–∏—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é –∫–∞—Ä—Ç –∏ —É–Ω–∏—á—Ç–æ–∂–∞—è –≤—Ä–∞–∂–µ—Å–∫—É—é –±–∞–∑—É (INSTANCE).

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 4 –º–æ–¥—É–ª–µ–π Gradle:

### 1. **shared** - –û–±—â–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –°–æ–¥–µ—Ä–∂–∏—Ç –º–æ–¥–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏ —Å–µ—Ä–≤–µ—Ä–æ–º, –∏ –∫–ª–∏–µ–Ω—Ç–æ–º.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã**:
- `Packets.kt` - –°–µ—Ç–µ–≤—ã–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
- `GameModels.kt` - –ú–æ–¥–µ–ª–∏ –∏–≥—Ä–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π (—é–Ω–∏—Ç—ã, –∑–¥–∞–Ω–∏—è, —Ä–µ—Å—É—Ä—Å—ã)
- `Cards.kt` - –¢–∏–ø—ã –∫–∞—Ä—Ç, —é–Ω–∏—Ç–æ–≤ –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏**:
```kotlin
// –¢–∏–ø—ã —Å—É—â–Ω–æ—Å—Ç–µ–π –≤ –∏–≥—Ä–µ
enum class EntityType {
    INSTANCE,      // –ë–∞–∑–∞ –∏–≥—Ä–æ–∫–∞
    FACTORY,       // –§–∞–±—Ä–∏–∫–∞ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —é–Ω–∏—Ç–æ–≤
    UNIT,          // –ë–æ–µ–≤–æ–π —é–Ω–∏—Ç
    RESOURCE_NODE  // –†–µ—Å—É—Ä—Å–Ω—ã–π —É–∑–µ–ª (Memory/CPU)
}

// –ò–≥—Ä–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å
data class GameEntity(
    val id: String,
    val type: EntityType,
    var x: Float, var y: Float,
    var ownerId: String,
    var hp: Int,
    val maxHp: Int,
    // ... –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
)

// –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞
data class PlayerState(
    val id: String,
    val name: String,
    var memory: Int,  // –†–µ—Å—É—Ä—Å –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–∫
    var cpu: Int,     // –†–µ—Å—É—Ä—Å –¥–ª—è —é–Ω–∏—Ç–æ–≤
    var hand: MutableList<Card>,  // –ö–∞—Ä—Ç—ã –Ω–∞ —Ä—É–∫–µ
    var globalCooldown: Float     // –ö—É–ª–¥–∞—É–Ω –º–µ–∂–¥—É –∫–∞—Ä—Ç–∞–º–∏
)
```

### 2. **server** - –°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Ktor)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–≥—Ä–æ–∫–æ–≤ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**:
- Ktor 2.3.7 - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- WebSockets - –¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è —Å–≤—è–∑—å —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- Kotlinx Serialization - —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

#### Application.kt
–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞. –ó–∞–ø—É—Å–∫–∞–µ—Ç Netty —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8080 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π WebSocket.

#### GameSocket.kt
–£–ø—Ä–∞–≤–ª—è–µ—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏. –ö–∞–∂–¥—ã–π –ø–æ–¥–∫–ª—é—á–∏–≤—à–∏–π—Å—è –∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π sessionId.

#### GameRoom.kt
**–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª** - —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
1. **–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª** (60 FPS):
   ```kotlin
   while (isRunning) {
       update(delta)          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
       broadcastState()       // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º
       delay(1000L / 60L)     // 60 —Ç–∏–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
   }
   ```

2. **AI —Å–∏—Å—Ç–µ–º–∞** - –≤—Å–µ —é–Ω–∏—Ç—ã –∞–≤—Ç–æ–Ω–æ–º–Ω—ã:
   - –ü–æ–∏—Å–∫ –±–ª–∏–∂–∞–π—à–µ–≥–æ –≤—Ä–∞–≥–∞
   - –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –∫ —Ü–µ–ª–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞ –≤ —Ä–∞–¥–∏—É—Å–µ
   - –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π

3. **–°–∏—Å—Ç–µ–º–∞ —Ä–µ—Å—É—Ä—Å–æ–≤**:
   - –ü–∞—Å—Å–∏–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è: +5 Memory, +5 CPU –≤ —Å–µ–∫—É–Ω–¥—É
   - –ó–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ —É–∑–ª—ã: +1 Memory/CPU –≤ —Å–µ–∫—É–Ω–¥—É
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —é–Ω–∏—Ç—ã (ALLOCATOR): +2 Memory –≤ —Å–µ–∫—É–Ω–¥—É

4. **–ö–∞—Ä—Ç–æ—á–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞**:
   - –ò–≥—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—Ç —Å 4 –∫–∞—Ä—Ç–∞–º–∏
   - –ü–æ—Å–ª–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∞ –∫–∞—Ä—Ç–∞ —É—Ö–æ–¥–∏—Ç –≤ —Å–±—Ä–æ—Å
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–±–æ—Ä –∫–∞—Ä—Ç—ã
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—É–ª–¥–∞—É–Ω 1.5 —Å–µ–∫—É–Ω–¥—ã

5. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —é–Ω–∏—Ç–æ–≤** (–ø—Ä–∏–º–µ—Ä—ã):
   - **POLYMORPH_WARRIOR**: –ò–∑–º–µ–Ω—è–µ—Ç —É—Ä–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞
   - **RECURSIVE_BOMB**: –ü—Ä–∏ —Å–º–µ—Ä—Ç–∏ —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ 2 –º–µ–Ω—å—à–∏—Ö –±–æ–º–±—ã
   - **GARBAGE_COLLECTOR**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ —É–±–∏–π—Å—Ç–≤–µ –≤—Ä–∞–≥–∞
   - **CODE_INJECTOR**: –ù–∞–Ω–æ—Å–∏—Ç —É—Ä–æ–Ω –≤—Ä–∞–∂–µ—Å–∫–∏–º —Ñ–∞–±—Ä–∏–∫–∞–º
   - **DEADLOCK_TRAP**: –ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç —Å–∫–æ–ø–ª–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤

#### DeckBuilder.kt
–°–æ–∑–¥–∞–µ—Ç –∫–æ–ª–æ–¥—É –∫–∞—Ä—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞, —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ–±–æ—Ä–æ–º –∏ —Ä–æ–∑—ã–≥—Ä—ã—à–µ–º –∫–∞—Ä—Ç.

### 3. **core** - –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ (LibGDX)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä—ã –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**:
- LibGDX 1.12.1 - –∏–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫
- Ktor Client - WebSocket –∫–ª–∏–µ–Ω—Ç
- ShapeRenderer - –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞

#### MemoryLeakGame.kt
–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫–ª–∏–µ–Ω—Ç–∞. –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã**:

1. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥**:
   - –°–µ—Ç–∫–∞ —Ñ–æ–Ω–∞
   - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π (—Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º—ã/—Ü–≤–µ—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞)
   - HP –±–∞—Ä—ã
   - –õ–∞–∑–µ—Ä—ã –∞—Ç–∞–∫
   - UI –ø–∞–Ω–µ–ª–∏
   - –ö–∞—Ä—Ç—ã –Ω–∞ —Ä—É–∫–µ

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
   - –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ ‚Üí —Ä–µ–∂–∏–º —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
   - –ö–ª–∏–∫ –ø–æ –∫–∞—Ä—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–µ ‚Üí —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —é–Ω–∏—Ç–∞
   - –ö–ª–∏–∫ –ø–æ —é–Ω–∏—Ç—É ‚Üí –≤—ã–±–æ—Ä
   - –ö–ª–∏–∫ –ø–æ –∑–µ–º–ª–µ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —é–Ω–∏—Ç–æ–º ‚Üí –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ
   - WASD - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π
   - ESC - –æ—Ç–º–µ–Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∫–∞—Ä—Ç—ã

3. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**:
   - –†–∞–¥–∏—É—Å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —é–Ω–∏—Ç–æ–≤ (–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π)
   - –ö—É–ª–¥–∞—É–Ω –Ω–∞ –∫–∞—Ä—Ç–∞—Ö (—Å–µ—Ä–∞—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ)
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —é–Ω–∏—Ç–∞
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–ø—Ä–∞–≤–∞

#### NetworkClient.kt
–£–ø—Ä–∞–≤–ª—è–µ—Ç WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Å —Å–µ—Ä–≤–µ—Ä–æ–º:
- –ü–æ–ª—É—á–∞–µ—Ç StateUpdatePacket –∫–∞–∂–¥—ã–π —Ç–∏–∫
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏–≥—Ä–æ–∫–∞

### 4. **lwjgl3** - –î–µ—Å–∫—Ç–æ–ø –ª–∞—É–Ω—á–µ—Ä
–ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏—Å–ø–æ–ª—å–∑—É—è LWJGL3 –±—ç–∫–µ–Ω–¥ LibGDX.

## üéÆ –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

### –¢–∏–ø—ã —é–Ω–∏—Ç–æ–≤

–ò–≥—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç **27 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —é–Ω–∏—Ç–æ–≤**, –∫–∞–∂–¥—ã–π —Å–æ —Å–≤–æ–∏–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏:

#### –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- **ALLOCATOR**: –ó–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —É–∑–ª—ã, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Memory
- **GARBAGE_COLLECTOR**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–∏ —É–±–∏–π—Å—Ç–≤–µ –≤—Ä–∞–≥–æ–≤
- **BASIC_PROCESS**: –î–µ—à–µ–≤—ã–π –±–∞–∑–æ–≤—ã–π —é–Ω–∏—Ç

#### –û–û–ü —é–Ω–∏—Ç—ã
- **INHERITANCE_DRONE**: –ù–∞—Å–ª–µ–¥—É–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –ø–∞–≤—à–∏—Ö —Å–æ—é–∑–Ω–∏–∫–æ–≤
- **POLYMORPH_WARRIOR**: –ò–∑–º–µ–Ω—è–µ—Ç —É—Ä–æ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞
- **ENCAPSULATION_SHIELD**: –°–æ–∑–¥–∞–µ—Ç —â–∏—Ç –¥–ª—è —Å–æ—é–∑–Ω–∏–∫–æ–≤
- **ABSTRACTION_AGENT**: –°–∫—Ä—ã–≤–∞–µ—Ç —Å–æ—é–∑–Ω–∏–∫–æ–≤ –æ—Ç –≤—Ä–∞–≥–æ–≤

#### –†–µ—Ñ–ª–µ–∫—Å–∏—è –∏ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
- **REFLECTION_SPY**: –°–∫–∞–Ω–∏—Ä—É–µ—Ç –≤—Ä–∞–≥–æ–≤, —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- **CODE_INJECTOR**: –í–Ω–µ–¥—Ä—è–µ—Ç –±–∞–≥–∏ –≤–æ –≤—Ä–∞–∂–µ—Å–∫–∏–µ —Ñ–∞–±—Ä–∏–∫–∏
- **DYNAMIC_DISPATCHER**: –£—Å–∫–æ—Ä—è–µ—Ç –∞—Ç–∞–∫–∏ —Å–æ—é–∑–Ω–∏–∫–æ–≤

#### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –∏ –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
- **COROUTINE_ARCHER**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å—Ç—Ä–µ–ª—ã, –∏–≥–Ω–æ—Ä–∏—Ä—É—é—â–∏–µ –±—Ä–æ–Ω—é
- **PROMISE_KNIGHT**: –ù–∞–Ω–æ—Å–∏—Ç –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π —É—Ä–æ–Ω –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏
- **DEADLOCK_TRAP**: –ó–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç —Å–∫–æ–ø–ª–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
- **LAMBDA_SNIPER**: –ß–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–Ω–æ–º
- **RECURSIVE_BOMB**: –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –º–µ–Ω—å—à–∏–µ –±–æ–º–±—ã
- **HIGHER_ORDER_COMMANDER**: –ë–∞—Ñ—Ñ–∞–µ—Ç –≤—Å–µ—Ö —Å–æ—é–∑–Ω–∏–∫–æ–≤

#### –°–µ—Ç–µ–≤—ã–µ —é–Ω–∏—Ç—ã
- **API_GATEWAY**: –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–¥–∏—É—Å –∞—Ç–∞–∫–∏ —Å–æ—é–∑–Ω–∏–∫–æ–≤
- **WEBSOCKET_SCOUT**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –≤—Ä–∞–≥–æ–≤
- **RESTFUL_HEALER**: REST API –¥–ª—è –ª–µ—á–µ–Ω–∏—è (GET/POST/PUT/DELETE)

#### –•—Ä–∞–Ω–∏–ª–∏—â–∞ –¥–∞–Ω–Ω—ã—Ö
- **CACHE_RUNNER**: –û—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π —é–Ω–∏—Ç –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ —É–∑–ª–æ–≤
- **INDEXER**: –ü–æ–º–µ—á–∞–µ—Ç —Ü–µ–ª–∏ –¥–ª—è –±–æ–Ω—É—Å–Ω–æ–≥–æ —É—Ä–æ–Ω–∞
- **TRANSACTION_GUARD**: –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç –∑–∞—Ö–≤–∞—Ç —É–∑–ª–æ–≤ –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏

### –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–ù–∞—á–∞–ª–æ –∏–≥—Ä—ã**:
   - –ö–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –±–∞–∑—É (INSTANCE) –≤ —Å–ª—É—á–∞–π–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
   - –°—Ç–∞—Ä—Ç–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã: 200 Memory, 100 CPU
   - 4 —Å–ª—É—á–∞–π–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–∞ —Ä—É–∫–µ

2. **–≠–∫–æ–Ω–æ–º–∏–∫–∞**:
   - –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥: +5/+5 –≤ —Å–µ–∫—É–Ω–¥—É
   - –ó–∞—Ö–≤–∞—á–µ–Ω–Ω—ã–µ —É–∑–ª—ã: +1 –≤ —Å–µ–∫—É–Ω–¥—É
   - ALLOCATOR —é–Ω–∏—Ç—ã: +2 Memory –≤ —Å–µ–∫—É–Ω–¥—É

3. **–ë–æ–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**:
   - –í—Å–µ —é–Ω–∏—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞—Ç–∞–∫—É—é—Ç –≤—Ä–∞–≥–æ–≤
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ü–µ–ª–µ–π: –Æ–Ω–∏—Ç—ã > –§–∞–±—Ä–∏–∫–∏ > –ë–∞–∑–∞
   - –°–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –∫—É–ª–¥–∞—É–Ω–æ–º 3 —Å–µ–∫

4. **–£—Å–ª–æ–≤–∏–µ –ø–æ–±–µ–¥—ã**:
   - –£–Ω–∏—á—Ç–æ–∂–∏—Ç—å –≤—Ä–∞–∂–µ—Å–∫—É—é –±–∞–∑—É (INSTANCE)

## üîß –ö–∞–∫ —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

### 1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

#### A. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
```kotlin
// –í—ã–Ω–µ—Å—Ç–∏ AI –ª–æ–≥–∏–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å
class UnitAI {
    fun updateUnit(unit: GameEntity, world: GameWorld, delta: Float)
    fun findTarget(unit: GameEntity, world: GameWorld): GameEntity?
}

// –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
interface UnitAbility {
    fun canActivate(unit: GameEntity, context: GameContext): Boolean
    fun execute(unit: GameEntity, context: GameContext)
    val cooldown: Long
}
```

#### B. Entity Component System (ECS)
–í–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ `GameEntity`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
```kotlin
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
data class PositionComponent(var x: Float, var y: Float)
data class HealthComponent(var hp: Int, val maxHp: Int)
data class MovementComponent(var speed: Float, var targetX: Float?, var targetY: Float?)
data class CombatComponent(var damage: Int, var attackRange: Float)

// –°–∏—Å—Ç–µ–º—ã
class MovementSystem {
    fun update(entities: List<Entity>, delta: Float)
}
class CombatSystem {
    fun update(entities: List<Entity>, delta: Float)
}
```

#### C. –°–µ—Ç–µ–≤–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```kotlin
// –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (delta updates)
data class EntityDelta(
    val id: String,
    val changedFields: Map<String, Any>
)

// –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è
class ClientPrediction {
    fun interpolate(entity: GameEntity, serverState: GameEntity, alpha: Float)
}
```

### 2. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

#### A. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫–∞—á–∫–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è
```kotlin
data class PlayerProgression(
    val level: Int,
    val experience: Int,
    val unlockedCards: Set<CardType>,
    val upgrades: Map<String, Int>
)

// –°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–∞—Ä—Ç
object CardUnlockSystem {
    fun unlockCard(player: PlayerState, cardType: CardType)
    fun canAfford(player: PlayerState, cardType: CardType): Boolean
}
```

#### B. –†–µ–∂–∏–º—ã –∏–≥—Ä—ã
- **PvE**: –ò–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ AI –±–æ—Ç–æ–≤
- **–¢—É—Ä–Ω–∏—Ä–Ω—ã–π —Ä–µ–∂–∏–º**: 1v1 —Å —Ä–µ–π—Ç–∏–Ω–≥–æ–º
- **–ö–æ–º–∞–Ω–¥–Ω—ã–π —Ä–µ–∂–∏–º**: 2v2, 3v3
- **–¢—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π —Ä–µ–∂–∏–º**: –ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —Ä–µ—Å—É—Ä—Å–æ–≤

#### C. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–æ–¥
```kotlin
data class DeckTemplate(
    val name: String,
    val cards: List<CardType>,
    val strategy: StrategyType
)

enum class StrategyType {
    RUSH,      // –ë—ã—Å—Ç—Ä–∞—è –∞—Ç–∞–∫–∞
    ECONOMY,   // –ó–∞—Ö–≤–∞—Ç —Ä–µ—Å—É—Ä—Å–æ–≤
    CONTROL,   // –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—Ä—Ç—ã
    LATE_GAME  // –ò–≥—Ä–∞ –≤ –¥–æ–ª–≥—É—é
}
```

### 3. **–£–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞**

#### A. –¢—É—Ç–æ—Ä–∏–∞–ª
```kotlin
class TutorialSystem {
    val steps = listOf(
        TutorialStep("–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ä—Ç—É", HighlightType.CARD_HAND),
        TutorialStep("–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —é–Ω–∏—Ç–∞", HighlightType.SPAWN_RADIUS),
        TutorialStep("–ó–∞—Ö–≤–∞—Ç–∏—Ç–µ —Ä–µ—Å—É—Ä—Å", HighlightType.RESOURCE_NODE)
    )
}
```

#### B. –£–ª—É—á—à–µ–Ω–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞
- –ü–∞—Ä—Ç–∏–∫–ª—ã –¥–ª—è –∞—Ç–∞–∫ –∏ —Å–º–µ—Ä—Ç–∏ —é–Ω–∏—Ç–æ–≤
- –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–ø–∞–≤–Ω–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–∫
- –ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ç–µ–∫—Å—Ç—É—Ä—ã –≤–º–µ—Å—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

#### C. –ó–≤—É–∫ –∏ –º—É–∑—ã–∫–∞
```kotlin
class AudioSystem {
    fun playSound(type: SoundType, volume: Float)
    fun playMusic(track: MusicTrack, loop: Boolean)
}

enum class SoundType {
    UNIT_SPAWN, ATTACK, DEATH, BUILD, CAPTURE, VICTORY
}
```

### 4. **–ë–∞–ª–∞–Ω—Å –∏ –≥–µ–π–º–ø–ª–µ–π**

#### A. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
```kotlin
data class GameStats(
    val duration: Long,
    val unitsSpawned: Map<UnitType, Int>,
    val damageDealt: Int,
    val resourcesCollected: Int,
    val winCondition: WinCondition
)

// –°–∏—Å—Ç–µ–º–∞ replay
class ReplaySystem {
    fun record(gameState: GameState)
    fun playback(replayId: String)
}
```

#### B. –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —É—Ä–æ–Ω–∞: –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —é–Ω–∏—Ç—ã —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã –ø—Ä–æ—Ç–∏–≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ö–æ–Ω—Ç—Ä-—é–Ω–∏—Ç—ã: —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä—ã –ø—Ä–æ—Ç–∏–≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫–∞—Ä—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞–¥–∏–∏ –∏–≥—Ä—ã

#### C. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∫–∏
```kotlin
// –°–∏–Ω–µ—Ä–≥–∏–∏ –º–µ–∂–¥—É —é–Ω–∏—Ç–∞–º–∏
data class Synergy(
    val units: Set<UnitType>,
    val bonus: BonusType
)

// –í—Ä–µ–º–µ–Ω–Ω—ã–µ –±–∞—Ñ—ã
data class Buff(
    val type: BuffType,
    val duration: Float,
    val value: Float
)

// –ö–∞—Ä—Ç—ã –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π
enum class SpellType {
    AOE_DAMAGE,     // –£—Ä–æ–Ω –ø–æ –ø–ª–æ—â–∞–¥–∏
    MASS_HEAL,      // –ú–∞—Å—Å–æ–≤–æ–µ –ª–µ—á–µ–Ω–∏–µ
    RESOURCE_BOOST, // –í—Ä–µ–º–µ–Ω–Ω—ã–π –±—É—Å—Ç —Ä–µ—Å—É—Ä—Å–æ–≤
    UNIT_BUFF       // –ë–∞—Ñ —é–Ω–∏—Ç–æ–≤
}
```

### 5. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è**

#### A. –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
```kotlin
object GameLogger {
    fun logEvent(event: GameEvent) {
        when (event) {
            is UnitSpawnEvent -> logger.info("Unit spawned: ${event.unitType}")
            is CombatEvent -> logger.info("${event.attacker} attacked ${event.target}")
        }
    }
}
```

#### B. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```kotlin
// Unit —Ç–µ—Å—Ç—ã –¥–ª—è –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–∏
class GameRoomTest {
    @Test
    fun `test unit spawning near base`() {
        val room = GameRoom()
        val player = room.join("test-1", mockSession)
        room.handleCommand("test-1", CommandPacket(
            commandType = CommandType.PLAY_CARD,
            cardId = "card-1",
            targetX = 100f,
            targetY = 100f
        ))
        assertEquals(2, room.entities.size) // Base + Unit
    }
}

// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
class NetworkTest {
    @Test
    fun `test client server communication`()
}
```

#### C. CI/CD
```yaml
# .github/workflows/build.yml
name: Build and Test
on: [push, pull_request]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Set up JDK 11
        uses: actions/setup-java@v2
        with:
          java-version: '11'
      - name: Build with Gradle
        run: ./gradlew build
      - name: Run tests
        run: ./gradlew test
```

### 6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

#### A. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏
```kotlin
// Spatial indexing –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Å–æ—Å–µ–¥–µ–π
class QuadTree {
    fun insert(entity: GameEntity)
    fun query(bounds: Rectangle): List<GameEntity>
}

// Object pooling –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è GC
class EntityPool {
    private val pool = mutableListOf<GameEntity>()
    
    fun acquire(): GameEntity = pool.removeLastOrNull() ?: GameEntity()
    fun release(entity: GameEntity) { pool.add(entity) }
}
```

#### B. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```kotlin
// Frustum culling - –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤–Ω–µ —ç–∫—Ä–∞–Ω–∞
fun isVisible(entity: GameEntity, camera: OrthographicCamera): Boolean {
    return camera.frustum.pointInFrustum(entity.x, entity.y, 0f)
}

// LOD (Level of Detail)
fun getDetailLevel(distanceToCamera: Float): DetailLevel {
    return when {
        distanceToCamera < 200f -> DetailLevel.HIGH
        distanceToCamera < 500f -> DetailLevel.MEDIUM
        else -> DetailLevel.LOW
    }
}
```

### 7. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

```kotlin
// –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –∏–≥—Ä–æ–∫–∞
class CommandValidator {
    fun validate(command: CommandPacket, player: PlayerState): ValidationResult {
        return when (command.commandType) {
            CommandType.PLAY_CARD -> {
                val card = player.hand.find { it.id == command.cardId }
                when {
                    card == null -> ValidationResult.Invalid("Card not in hand")
                    player.memory < card.memoryCost -> ValidationResult.Invalid("Not enough memory")
                    player.cpu < card.cpuCost -> ValidationResult.Invalid("Not enough CPU")
                    else -> ValidationResult.Valid
                }
            }
            // ... –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
        }
    }
}

// Rate limiting
class RateLimiter {
    private val commandCounts = ConcurrentHashMap<String, CommandCounter>()
    
    fun allowCommand(playerId: String): Boolean {
        val counter = commandCounts.computeIfAbsent(playerId) { CommandCounter() }
        return counter.increment() <= MAX_COMMANDS_PER_SECOND
    }
}
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```kotlin
data class ServerMetrics(
    val activePlayers: Int,
    val averageFPS: Double,
    val networkLatency: Map<String, Long>,
    val memoryUsage: Long,
    val tickDuration: Long
)

class MetricsCollector {
    fun collect(): ServerMetrics
    fun exportToPrometheus()
}
```

## üéØ –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑–≤–∏—Ç–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (1-2 –º–µ—Å—è—Ü–∞)
1. –î–æ–±–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞)
3. –£–ª—É—á—à–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫—É (—Ç–µ–∫—Å—Ç—É—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–∏)
4. –î–æ–±–∞–≤–∏—Ç—å –∑–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
5. –°–æ–∑–¥–∞—Ç—å —Ç—É—Ç–æ—Ä–∏–∞–ª

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (3-6 –º–µ—Å—è—Ü–µ–≤)
1. –†–µ–∂–∏–º PvE —Å AI –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞–º–∏
2. –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ –ª–∏–¥–µ—Ä–±–æ—Ä–¥
3. –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∫–æ–ª–æ–¥
4. –ù–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∏ —é–Ω–∏—Ç—ã (—Ü–µ–ª—å: 50+ –∫–∞—Ä—Ç)
5. –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (Android/iOS)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (6-12 –º–µ—Å—è—Ü–µ–≤)
1. –¢—É—Ä–Ω–∏—Ä–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
2. –°–∏—Å—Ç–µ–º–∞ –∫–ª–∞–Ω–æ–≤/–≥–∏–ª—å–¥–∏–π
3. –°–µ–∑–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
4. Monetization (–∫–æ—Å–º–µ—Ç–∏–∫–∞, battle pass)
5. Esports –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

### –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```kotlin
// –ö–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
class DebugConsole {
    fun executeCommand(cmd: String) {
        when {
            cmd.startsWith("/spawn") -> spawnUnit(cmd.split(" ")[1])
            cmd.startsWith("/resource") -> addResources(cmd.split(" ")[1].toInt())
            cmd.startsWith("/kill") -> killAllUnits()
            cmd == "/win" -> triggerWinCondition()
        }
    }
}
```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è AI
```kotlin
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ AI —Å–æ—Å—Ç–æ—è–Ω–∏–π –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
fun renderAIDebug(entity: GameEntity, batch: SpriteBatch) {
    val stateText = when(entity.aiState) {
        AIState.IDLE -> "IDLE"
        AIState.MOVING_TO_TARGET -> "MOVING"
        AIState.ATTACKING -> "ATTACKING"
        AIState.USING_ABILITY -> "ABILITY"
        AIState.RETREATING -> "RETREAT"
    }
    font.draw(batch, stateText, entity.x, entity.y + 40)
}
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**Memory Leak** - —ç—Ç–æ –∞–º–±–∏—Ü–∏–æ–∑–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—á–µ—Ç–∞–µ—Ç RTS –≥–µ–π–º–ø–ª–µ–π —Å –∫–∞—Ä—Ç–æ—á–Ω–æ–π –º–µ—Ö–∞–Ω–∏–∫–æ–π –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π. –ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç –ø—Ä–æ—á–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É –∏ –±–æ–ª—å—à–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ä–æ—Å—Ç–∞.

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
- ‚úÖ –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ)
- ‚úÖ –ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ —é–Ω–∏—Ç–æ–≤ –∏ –º–µ—Ö–∞–Ω–∏–∫ (27 —Ç–∏–ø–æ–≤ —é–Ω–∏—Ç–æ–≤)
- ‚úÖ –ê–≤—Ç–æ–Ω–æ–º–Ω–∞—è AI —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –ö–∞—Ä—Ç–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å deck-building —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
- ‚ö†Ô∏è –ë–∞–∑–æ–≤–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–∏—Ç–∏–≤—ã)
- ‚ö†Ô∏è –ù–µ—Ç —Å–∏—Å—Ç–µ–º—ã –º–∞—Ç—á–º–µ–π–∫–∏–Ω–≥–∞
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–≤—É–∫–∞
- ‚ö†Ô∏è –ù–µ—Ç –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–ª–µ–¥—É—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–º —É–ª—É—á—à–µ–Ω–∏—è–º, –º–æ–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é –∏–≥—Ä—É –∏–ª–∏ –æ—Ç–ª–∏—á–Ω—ã–π –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –ø—Ä–æ–µ–∫—Ç, –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—â–∏–π –Ω–∞–≤—ã–∫–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–≥—Ä, —Å–∏—Å—Ç–µ–º–Ω–æ–º –¥–∏–∑–∞–π–Ω–µ –∏ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ç–µ–≤—ã–º–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏.
